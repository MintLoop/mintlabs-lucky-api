@import "tailwindcss";
@import "katex/dist/katex.min.css";

:root {
  /* Dark Theme */
  --bg-primary: #0f172a; /* slate-950 */
  --bg-secondary: #1e293b; /* slate-900 */
  --bg-card: rgba(30, 41, 59, 0.6);
  --text-primary: #f1f5f9; /* slate-100 */
  --text-secondary: #cbd5e1; /* slate-300 */
  --text-muted: #94a3b8; /* slate-400 */
  --border-primary: #334155; /* slate-700 */
  /* compatibility aliases (many components/themes use the shorthand vars) */
  --border: var(--border-primary);
  /* surface layer colors used by components and visualizations */
  --surface: rgba(255,255,255,0.02);
  --surface-1: rgba(255,255,255,0.02);
  --surface-2: rgba(255,255,255,0.04);
  --surface-hover: rgba(255,255,255,0.08); /* Interactive hover state */
  --accent-primary: #10b981; /* emerald-500 */
  --accent: var(--accent-primary);
  /* default accent rgb (emerald-500) â€” used by some components */
  --accent-rgb: 16,185,129;
  --accent-hover: #059669; /* emerald-600 */
  --input-bg: #1e293b; /* slate-800 */
}

[data-theme="green-dark"] {
  /* Green Dark Theme */
  --bg-primary: #064e3b; /* emerald-950 */
  --bg-secondary: #065f46; /* emerald-900 */
  --bg-card: rgba(6, 95, 70, 0.6);
  --text-primary: #ecfdf5; /* emerald-50 */
  --text-secondary: #a7f3d0; /* emerald-200 */
  --text-muted: rgba(231, 250, 245, 0.64); /* muted emerald tint */
  --border-primary: #047857; /* emerald-700 */
  --border: var(--border-primary);
  --surface: rgba(6,95,70,0.06);
  --surface-1: rgba(6,95,70,0.06);
  --surface-2: rgba(6,95,70,0.09);
  --surface-hover: rgba(6,95,70,0.15);
  --accent-primary: #10b981; /* emerald-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 16,185,129;
  --accent-hover: #059669; /* emerald-600 */
  --input-bg: #065f46; /* emerald-900 */
}

[data-theme="blue-dark"] {
  /* Blue Dark Theme */
  --bg-primary: #0f172a; /* slate-950 */
  --bg-secondary: #1e293b; /* slate-900 */
  --bg-card: rgba(30, 41, 59, 0.6);
  --text-primary: #f1f5f9; /* slate-100 */
  --text-secondary: #cbd5e1; /* slate-300 */
  --text-muted: rgba(203, 213, 225, 0.64); /* muted slate */
  --border-primary: #334155; /* slate-700 */
  --border: var(--border-primary);
  --surface: rgba(30,41,59,0.6);
  --surface-1: rgba(30,41,59,0.2);
  --surface-2: rgba(30,41,59,0.4);
  --accent-primary: #3b82f6; /* blue-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 59,130,246;
  --accent-hover: #2563eb; /* blue-600 */
  --input-bg: #1e293b; /* slate-800 */
}

[data-theme="purple-dark"] {
  /* Purple Dark Theme */
  --bg-primary: #2d1b69; /* violet-950 */
  --bg-secondary: #3b2d7a; /* violet-900 */
  --bg-card: rgba(59, 45, 122, 0.6);
  --text-primary: #f3e8ff; /* violet-50 */
  --text-secondary: #d8b4fe; /* violet-200 */
  --text-muted: rgba(216, 180, 254, 0.64); /* muted violet */
  --border-primary: #6d28d9; /* violet-700 */
  --border: var(--border-primary);
  --surface: rgba(59,45,122,0.06);
  --surface-1: rgba(59,45,122,0.06);
  --surface-2: rgba(59,45,122,0.12);
  --accent-primary: #8b5cf6; /* violet-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 139,92,246;
  --accent-hover: #7c3aed; /* violet-600 */
  --input-bg: #3b2d7a; /* violet-900 */
}

/* --- LIGHT COUNTERPARTS FOR EXISTING --- */
[data-theme="green-light"] {
  /* Green Light Theme */
  --bg-primary: #ffffff;
  --bg-secondary: #f1f5f9; /* slate-100 */
  --bg-card: rgba(241, 245, 249, 0.7);
  --text-primary: #0f172a; /* slate-900 */
  --text-secondary: #1f2937; /* slate-800 */
  --text-muted: rgba(15, 23, 42, 0.58); /* muted dark emerald */
  --border-primary: #e2e8f0; /* slate-200 */
  --border: var(--border-primary);
  --surface: rgba(241,245,249,0.7);
  --surface-1: rgba(241,245,249,0.6);
  --surface-2: rgba(241,245,249,0.8);
  --surface-hover: rgba(226,232,240,0.9);
  --accent-primary: #10b981; /* emerald-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 16,185,129;
  --accent-hover: #059669; /* emerald-600 */
  --input-bg: #ffffff;
}
[data-theme="blue-light"] {
  /* Blue Light Theme */
  --bg-primary: #ffffff;
  --bg-secondary: #f1f5f9;
  --bg-card: rgba(241, 245, 249, 0.7);
  --text-primary: #0f172a;
  --text-secondary: #1f2937;
  --text-muted: rgba(15, 23, 42, 0.58); /* muted dark slate */
  --border-primary: #e2e8f0;
  --border: var(--border-primary);
  --surface: rgba(241,245,249,0.7);
  --surface-1: rgba(241,245,249,0.6);
  --surface-2: rgba(241,245,249,0.8);
  --accent-primary: #3b82f6; /* blue-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 59,130,246;
  --accent-hover: #2563eb; /* blue-600 */
  --input-bg: #ffffff;
}
[data-theme="purple-light"] {
  /* Purple Light Theme */
  --bg-primary: #ffffff;
  --bg-secondary: #f1f5f9;
  --bg-card: rgba(241, 245, 249, 0.7);
  --text-primary: #0f172a;
  --text-secondary: #1f2937;
  --text-muted: rgba(15, 23, 42, 0.58); /* muted dark slate */
  --border-primary: #e2e8f0;
  --border: var(--border-primary);
  --accent-primary: #8b5cf6; /* violet-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 139,92,246;
  --accent-hover: #7c3aed;   /* violet-600 */
  --input-bg: #ffffff;
}

/* --- NEW DARK THEMES (AMBER / RED / TEAL) --- */
[data-theme="amber-dark"] {
  /* Amber Dark Theme (MintWorks) */
  --bg-primary: #451a03; /* amber-950 */
  --bg-secondary: #78350f; /* amber-900 */
  --bg-card: rgba(120, 53, 15, 0.6);
  --text-primary: #fffbeb; /* amber-50 */
  --text-secondary: #fde68a; /* amber-200 */
  --text-muted: rgba(253, 230, 138, 0.64); /* muted amber */
  --border-primary: #b45309; /* amber-700 */
  --border: var(--border-primary);
  --accent-primary: #f59e0b; /* amber-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 245,158,11;
  --accent-hover: #d97706; /* amber-600 */
  --input-bg: #78350f; /* amber-900 */
}
[data-theme="red-dark"] {
  /* Red Dark Theme (MintDrop) */
  --bg-primary: #450a0a; /* red-950 */
  --bg-secondary: #7f1d1d; /* red-900 */
  --bg-card: rgba(127, 29, 29, 0.6);
  --text-primary: #fef2f2; /* red-50 */
  --text-secondary: #fecaca; /* red-200 */
  --text-muted: rgba(254, 202, 202, 0.64); /* muted red */
  --border-primary: #b91c1c; /* red-700 */
  --border: var(--border-primary);
  --accent-primary: #ef4444; /* red-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 239,68,68;
  --accent-hover: #dc2626; /* red-600 */
  --input-bg: #7f1d1d; /* red-900 */
}
[data-theme="teal-dark"] {
  /* Teal Dark Theme (MintScale) */
  --bg-primary: #042f2e; /* teal-950 */
  --bg-secondary: #134e4a; /* teal-900 */
  --bg-card: rgba(19, 78, 74, 0.6);
  --text-primary: #f0fdfa; /* teal-50 */
  --text-secondary: #99f6e4; /* teal-200 */
  --text-muted: rgba(153, 246, 228, 0.64); /* muted teal */
  --border-primary: #0f766e; /* teal-700 */
  --border: var(--border-primary);
  --accent-primary: #14b8a6; /* teal-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 20,184,166;
  --accent-hover: #0d9488; /* teal-600 */
  --input-bg: #134e4a; /* teal-900 */
}

/* --- NEW LIGHT THEMES (AMBER / RED / TEAL) --- */
[data-theme="amber-light"] {
  /* Amber Light Theme (MintWorks) */
  --bg-primary: #ffffff;
  --bg-secondary: #fff7ed; /* amber-50 */
  --bg-card: rgba(255, 247, 237, 0.7);
  --text-primary: #0f172a;
  --text-secondary: #1f2937;
  --text-muted: rgba(15, 23, 42, 0.58); /* muted dark slate */
  --border-primary: #fde68a; /* soft amber edge */
  --border: var(--border-primary);
  --accent-primary: #f59e0b; /* amber-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 245,158,11;
  --accent-hover: #d97706; /* amber-600 */
  --input-bg: #ffffff;
}
[data-theme="red-light"] {
  /* Red Light Theme (MintDrop) */
  --bg-primary: #ffffff;
  --bg-secondary: #fef2f2; /* red-50 */
  --bg-card: rgba(254, 242, 242, 0.7);
  --text-primary: #0f172a;
  --text-secondary: #1f2937;
  --text-muted: rgba(15, 23, 42, 0.58); /* muted dark slate */
  --border-primary: #fecaca; /* red-200 */
  --border: var(--border-primary);
  --accent-primary: #ef4444; /* red-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 239,68,68;
  --accent-hover: #dc2626; /* red-600 */
  --input-bg: #ffffff;
}
[data-theme="teal-light"] {
  /* Teal Light Theme (MintScale) */
  --bg-primary: #ffffff;
  --bg-secondary: #f0fdfa; /* teal-50 */
  --bg-card: rgba(240, 253, 250, 0.7);
  --text-primary: #0f172a;
  --text-secondary: #1f2937;
  --text-muted: rgba(15, 23, 42, 0.58); /* muted dark slate */
  --border-primary: #99f6e4; /* teal-200 */
  --border: var(--border-primary);
  --accent-primary: #14b8a6; /* teal-500 */
  --accent: var(--accent-primary);
  --accent-rgb: 20,184,166;
  --accent-hover: #0d9488; /* teal-600 */
  --input-bg: #ffffff;
}

/* --- OPTIONAL FUN / NEUTRAL THEMES --- */
[data-theme="bw-dark"] {
  /* Monochrome Dark */
  --bg-primary: #0a0a0a;
  --bg-secondary: #171717;
  --bg-card: rgba(23, 23, 23, 0.6);
  --text-primary: #f5f5f5;
  --text-secondary: #d4d4d4;
  --text-muted: rgba(212, 212, 212, 0.64);
  --border-primary: #262626;
  --border: var(--border-primary);
  --accent-primary: #f5f5f5;
  --accent: var(--accent-primary);
  --accent-rgb: 245,245,245;
  --accent-hover: #e5e5e5;
  --input-bg: #171717;
}
[data-theme="bw-light"] {
  /* Monochrome Light */
  --bg-primary: #ffffff;
  --bg-secondary: #f8fafc;
  --bg-card: rgba(248, 250, 252, 0.7);
  --text-primary: #0a0a0a;
  --text-secondary: #111827;
  --text-muted: rgba(10, 10, 10, 0.58);
  --border-primary: #e5e7eb;
  --border: var(--border-primary);
  --accent-primary: #0a0a0a;
  --accent: var(--accent-primary);
  --accent-rgb: 10,10,10;
  --accent-hover: #111827;
  --input-bg: #ffffff;
}

/* Theme-aware variables for result cards */
:root {
  --card-bg: #ffffff;
  --card-border: rgba(16,24,40,0.06);
  --card-text: #0f172a;
  --card-shadow: 0 6px 18px rgba(2,6,23,0.06);
  --accent-foreground: #ffffff;
  /* contrast helpers and elevated surface tokens */
  --border-primary-darker: color-mix(in srgb, var(--border-primary) 60%, var(--text-primary) 20%);
  --surface-elevated: color-mix(in srgb, var(--surface) 85%, var(--text-primary) 5%);
  --card-shadow: 0 1px 3px rgba(0,0,0,0.05);
  /* standard sizing tokens for Lucky UI */
  --card-radius: 0.75rem; /* default card radius */
  --card-padding: 1rem; /* default card padding */
}

html[data-theme="dark"],
:root[data-theme="dark"] {
  --card-bg: #0b1220;
  --card-border: rgba(255,255,255,0.06);
  --card-text: #f8fafc;
  --border-primary-darker: color-mix(in srgb, var(--border-primary) 70%, var(--text-primary) 30%);
  --surface-elevated: color-mix(in srgb, var(--surface) 80%, var(--text-primary) 10%);
  --card-shadow: 0 1px 4px rgba(0,0,0,0.25);
  /* slightly stronger elevated surface in dark to lift elements */
}

/* Light-theme-specific refinements (applied to any theme ending with -light) */
[data-theme$="-light"] {
  --surface-elevated: color-mix(in srgb, var(--surface) 75%, rgba(0,0,0,0.06) 25%);
  --card-shadow: 0 6px 18px rgba(2,6,23,0.06);
  --border-primary-darker: color-mix(in srgb, var(--border-primary) 75%, #000 25%);
  --accent-foreground: #0f172a; /* dark foreground for bright accents */
}

[data-theme$="-dark"] {
  --accent-foreground: #ffffff;
}

/* results card */
.result-card {
  background: var(--bg-card);
  color: var(--text-primary);
  border: 1px solid var(--border-primary);
  box-shadow: var(--card-shadow, 0 4px 12px rgba(0,0,0,0.1));
  border-radius: var(--card-radius);
  padding: var(--card-padding);
  transition: background-color .18s ease, color .18s ease, box-shadow .18s ease, border-color .18s ease;
}

/* odds text */
.odds-number,
.result-odds,
.results .odds,
span.odds {
  color: var(--accent-primary);
  font-weight: 600;
}


/* slight elevation for hover/focus so numbers pop */
.result-card:hover {
  transform: translateY(-2px);
  transition: transform .12s ease;
}

/* Apply theme variables to Tailwind utilities */
.theme-bg-primary { background-color: var(--bg-primary); }
.theme-bg-secondary { background-color: var(--bg-secondary); }
.theme-bg-card { background-color: var(--surface); }
.theme-surface { background-color: var(--surface); }
.theme-surface-hover { background-color: var(--surface-hover); }
.readable-text { color: var(--text-primary); }
.theme-text-primary { color: var(--text-primary); }
.theme-text-secondary { color: var(--text-secondary); }
.theme-text-muted { color: var(--text-muted); }
.theme-border-primary { border-color: var(--border-primary); }
.theme-accent-primary { background-color: var(--accent-primary); color: var(--accent-foreground); }
.theme-accent-hover:hover { background-color: var(--accent-hover); }
.theme-input-bg { background-color: var(--input-bg); }

/* Reusable elevated card utility for homepage components */
.card-elevated {
  background: var(--surface-elevated) !important;
  border: 1px solid var(--border-primary-darker) !important;
  box-shadow: var(--card-shadow) !important;
  border-radius: var(--card-radius) !important;
  padding: var(--card-padding) !important;
}

/* small helper to slightly increase elevation without a new token */
.card-elevated-strong { box-shadow: 0 8px 28px rgba(0,0,0,0.12) !important; }

/* default dropdown/select/readable controls */
select,
.dropdown,
.select-control {
  background: var(--input-bg) !important;
  color: var(--text-primary) !important;
  border: 1px solid var(--border-primary) !important;
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
}

/* hover state for controls */
.select-control:hover,
select:hover {
  background: var(--surface-hover) !important;
}

/* Small-screen tweaks for the tools carousel cards to reduce crowding */
@media (max-width: 420px) {
  .tool-card { padding: .5rem .75rem !important; font-size: .95rem !important; }
}

/* Edge case fixes for monochrome themes - fix selector names */
html[data-theme="bw-dark"] button,
html[data-theme="bw-dark"] input[type="submit"],
html[data-theme="bw-dark"] #generateBtn {
  color: #fff !important; /* white text on dark button */
  background-color: #000 !important;
}

html[data-theme="bw-light"] button,
html[data-theme="bw-light"] input[type="submit"],
html[data-theme="bw-light"] #generateBtn {
  color: #000 !important; /* black text on light button */
  background-color: #fff !important;
}

/* Toast notification for rate limiting feedback */
.toast {
  position: fixed;
  bottom: 1.5rem;
  left: 50%;
  transform: translateX(-50%);
  padding: 0.75rem 1.5rem;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  font-weight: 500;
  z-index: 9999;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  pointer-events: none;
}
.toast.show {
  opacity: 1;
}
.toast.toast-warning {
  background-color: var(--accent-warning, #f59e0b);
  color: var(--text-on-accent, #000);
}
.toast.toast-error {
  background-color: var(--accent-danger, #ef4444);
  color: var(--text-on-error, #fff);
}

/* Theme fallbacks: ensure toast remains legible in dark themes */
html[data-theme$="-dark"] .toast.toast-warning {
  background-color: var(--accent-warning, #f59e0b);
  color: var(--text-on-accent, #000);
}
html[data-theme$="-dark"] .toast.toast-error {
  background-color: var(--accent-danger, #ef4444);
  color: var(--text-on-error, #fff);
}

/* Odds link on result cards */
.odds-link {
  display: inline-block;
  margin-top: 0.5rem;
  padding: 0.25rem 0.625rem;
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--accent-primary);
  background: transparent;
  border: 1px solid var(--accent-primary);
  border-radius: 9999px;
  text-decoration: none;
  transition: background-color 0.15s ease, color 0.15s ease;
}
.odds-link:hover,
.odds-link:focus {
  background-color: var(--accent-primary);
  color: var(--bg-primary);
  outline: none;
}
/* Ensure link is tappable on mobile (min 44px touch target) */
@media (max-width: 640px) {
  .odds-link {
    padding: 0.5rem 0.875rem;
    font-size: 0.8125rem;
  }
}
