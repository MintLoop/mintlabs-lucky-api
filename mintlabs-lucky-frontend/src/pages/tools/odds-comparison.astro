---
import InfoLayout from "../../components/InfoLayout.astro";
import AffiliateGrid from "../../components/AffiliateGrid.astro";

// Comprehensive lottery odds data
const lotteries = [
  {
    category: "Multi-State Jackpots",
    games: [
      { name: "Powerball", jackpotOdds: "1 in 292,201,338", anyPrize: "1 in 24.9", minJackpot: "$20M", ticketCost: "$2", format: "5/69 + 1/26", draws: "Mon, Wed, Sat" },
      { name: "Mega Millions", jackpotOdds: "1 in 302,575,350", anyPrize: "1 in 24", minJackpot: "$20M", ticketCost: "$2", format: "5/70 + 1/25", draws: "Tue, Fri" },
    ]
  },
  {
    category: "State Lotteries (Better Odds)",
    games: [
      { name: "CA SuperLotto Plus", jackpotOdds: "1 in 41,416,353", anyPrize: "1 in 23", minJackpot: "$7M", ticketCost: "$1", format: "5/47 + 1/27", draws: "Wed, Sat" },
      { name: "NY Lotto", jackpotOdds: "1 in 45,057,474", anyPrize: "1 in 46", minJackpot: "$2M", ticketCost: "$1", format: "6/59", draws: "Wed, Sat" },
      { name: "TX Lotto", jackpotOdds: "1 in 25,827,165", anyPrize: "1 in 71", minJackpot: "$5M", ticketCost: "$1", format: "6/54", draws: "Mon, Thu, Sat" },
      { name: "FL Lotto", jackpotOdds: "1 in 22,957,480", anyPrize: "1 in 67", minJackpot: "$1M", ticketCost: "$1", format: "6/53", draws: "Wed, Sat" },
    ]
  },
  {
    category: "Daily Games (Best Odds)",
    games: [
      { name: "Pick 3 (Exact)", jackpotOdds: "1 in 1,000", anyPrize: "Varies", minJackpot: "~$500", ticketCost: "$0.50-1", format: "3 digits", draws: "Daily" },
      { name: "Pick 4 (Exact)", jackpotOdds: "1 in 10,000", anyPrize: "Varies", minJackpot: "~$5,000", ticketCost: "$0.50-1", format: "4 digits", draws: "Daily" },
      { name: "Cash 5 (varies by state)", jackpotOdds: "~1 in 500,000", anyPrize: "1 in 8-10", minJackpot: "~$50K+", ticketCost: "$1", format: "5/35-43", draws: "Daily" },
    ]
  },
  {
    category: "International",
    games: [
      { name: "EuroMillions", jackpotOdds: "1 in 139,838,160", anyPrize: "1 in 13", minJackpot: "â‚¬17M", ticketCost: "â‚¬2.50", format: "5/50 + 2/12", draws: "Tue, Fri" },
      { name: "UK National Lottery", jackpotOdds: "1 in 45,057,474", anyPrize: "1 in 54", minJackpot: "Â£2M", ticketCost: "Â£2", format: "6/59", draws: "Wed, Sat" },
      { name: "El Gordo (Spain)", jackpotOdds: "1 in 100,000", anyPrize: "~1 in 6.5", minJackpot: "â‚¬4M", ticketCost: "â‚¬200/share", format: "Raffle", draws: "Dec 22" },
    ]
  }
];

// Extract numeric odds for sorting
function parseOdds(oddsStr: string): number {
  const match = oddsStr.match(/1 in ([\d,]+)/);
  if (match) return parseInt(match[1].replace(/,/g, ''));
  if (oddsStr.includes('~')) {
    const approx = oddsStr.match(/~?1 in ([\d,]+)/);
    if (approx) return parseInt(approx[1].replace(/,/g, ''));
  }
  return Infinity;
}

// Flatten and sort all games by odds
const allGames = lotteries.flatMap(cat => cat.games);
const sortedByOdds = [...allGames].sort((a, b) => parseOdds(a.jackpotOdds) - parseOdds(b.jackpotOdds));
---

<InfoLayout 
  title="Lottery Odds Comparison"
  subtitle="Compare jackpot odds across all major lottery games"
  pageTitle="Lottery Odds Comparison Tool - Powerball vs Mega Millions vs State Lotteries | MintLabs"
  description="Compare lottery jackpot odds side-by-side. Powerball, Mega Millions, state lotteries, and international games ranked by your chances of winning. Find the best lottery odds."
  keywords="lottery odds comparison, powerball vs mega millions, best lottery odds, state lottery odds, lottery comparison chart, which lottery has best odds"
>
  <div slot="teaser">
    <strong class="text-emerald-400">ğŸ¯ Compare Before You Play:</strong>
    Not all lotteries are created equal. See which games give you the best (or worst) chances of winning.
  </div>

  <!-- Quick Comparison Cards -->
  <section class="rounded-2xl border border-slate-700 bg-slate-800 p-6 shadow-xl">
    <h2 class="text-xl font-semibold text-emerald-300 mb-4">ğŸ† Quick Comparison: Best to Worst Odds</h2>
    
    <div class="grid gap-3 md:grid-cols-2 lg:grid-cols-3">
      {sortedByOdds.slice(0, 6).map((game, index) => (
        <div class={`rounded-xl p-4 border ${index === 0 ? 'border-emerald-500 bg-emerald-900/30' : 'border-slate-700 bg-slate-900/50'}`}>
          <div class="flex items-center justify-between mb-2">
            <span class="font-semibold text-gray-200">{game.name}</span>
            {index === 0 && <span class="text-xs bg-emerald-600 text-white px-2 py-0.5 rounded">Best Odds</span>}
          </div>
          <div class="text-lg font-bold text-emerald-400">{game.jackpotOdds}</div>
          <div class="text-xs text-gray-400 mt-1">Min jackpot: {game.minJackpot}</div>
        </div>
      ))}
    </div>
    
    <p class="mt-4 text-sm text-gray-400">
      ğŸ’¡ <strong>Key insight:</strong> State daily games like Pick 3 have odds 292,000x better than Powerball, 
      but jackpots are proportionally smaller.
    </p>
  </section>

  <!-- Detailed Comparison Tables -->
  {lotteries.map(category => (
    <section class="rounded-2xl border border-slate-700 bg-slate-800 p-6 shadow-xl">
      <h2 class="text-xl font-semibold text-emerald-300 mb-4">{category.category}</h2>
      
      <div class="overflow-x-auto">
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b border-slate-700 text-left">
              <th class="pb-3 text-gray-400 font-medium">Game</th>
              <th class="pb-3 text-gray-400 font-medium">Jackpot Odds</th>
              <th class="pb-3 text-gray-400 font-medium">Any Prize</th>
              <th class="pb-3 text-gray-400 font-medium hidden md:table-cell">Min Jackpot</th>
              <th class="pb-3 text-gray-400 font-medium hidden lg:table-cell">Ticket</th>
              <th class="pb-3 text-gray-400 font-medium hidden lg:table-cell">Format</th>
            </tr>
          </thead>
          <tbody>
            {category.games.map(game => (
              <tr class="border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors">
                <td class="py-3 font-medium text-gray-200">{game.name}</td>
                <td class="py-3 text-emerald-400 font-mono text-xs">{game.jackpotOdds}</td>
                <td class="py-3 text-blue-400">{game.anyPrize}</td>
                <td class="py-3 text-gray-300 hidden md:table-cell">{game.minJackpot}</td>
                <td class="py-3 text-gray-300 hidden lg:table-cell">{game.ticketCost}</td>
                <td class="py-3 text-gray-400 font-mono text-xs hidden lg:table-cell">{game.format}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </section>
  ))}

  <!-- Visual Odds Comparison -->
  <section class="rounded-2xl border border-slate-700 bg-slate-800 p-6 shadow-xl">
    <h2 class="text-xl font-semibold text-emerald-300 mb-4">ğŸ“Š Visual Odds Scale</h2>
    <p class="text-gray-400 mb-6">How many times better are your odds? (Relative to Powerball)</p>
    
    <div class="space-y-4">
      <div class="flex items-center gap-4">
        <span class="w-32 text-sm text-gray-300">Powerball</span>
        <div class="flex-1 h-6 bg-slate-700 rounded-full overflow-hidden">
          <div class="h-full bg-red-500 rounded-full" style="width: 1%"></div>
        </div>
        <span class="text-xs text-gray-400 w-16">1x</span>
      </div>
      <div class="flex items-center gap-4">
        <span class="w-32 text-sm text-gray-300">Mega Millions</span>
        <div class="flex-1 h-6 bg-slate-700 rounded-full overflow-hidden">
          <div class="h-full bg-amber-500 rounded-full" style="width: 1%"></div>
        </div>
        <span class="text-xs text-gray-400 w-16">~1x</span>
      </div>
      <div class="flex items-center gap-4">
        <span class="w-32 text-sm text-gray-300">EuroMillions</span>
        <div class="flex-1 h-6 bg-slate-700 rounded-full overflow-hidden">
          <div class="h-full bg-blue-500 rounded-full" style="width: 2%"></div>
        </div>
        <span class="text-xs text-gray-400 w-16">2x better</span>
      </div>
      <div class="flex items-center gap-4">
        <span class="w-32 text-sm text-gray-300">CA SuperLotto</span>
        <div class="flex-1 h-6 bg-slate-700 rounded-full overflow-hidden">
          <div class="h-full bg-purple-500 rounded-full" style="width: 7%"></div>
        </div>
        <span class="text-xs text-gray-400 w-16">7x better</span>
      </div>
      <div class="flex items-center gap-4">
        <span class="w-32 text-sm text-gray-300">FL Lotto</span>
        <div class="flex-1 h-6 bg-slate-700 rounded-full overflow-hidden">
          <div class="h-full bg-cyan-500 rounded-full" style="width: 12%"></div>
        </div>
        <span class="text-xs text-gray-400 w-16">13x better</span>
      </div>
      <div class="flex items-center gap-4">
        <span class="w-32 text-sm text-gray-300">Pick 4</span>
        <div class="flex-1 h-6 bg-slate-700 rounded-full overflow-hidden">
          <div class="h-full bg-emerald-500 rounded-full" style="width: 50%"></div>
        </div>
        <span class="text-xs text-gray-400 w-16">29,220x</span>
      </div>
      <div class="flex items-center gap-4">
        <span class="w-32 text-sm text-gray-300">Pick 3</span>
        <div class="flex-1 h-6 bg-slate-700 rounded-full overflow-hidden">
          <div class="h-full bg-emerald-400 rounded-full" style="width: 100%"></div>
        </div>
        <span class="text-xs text-gray-400 w-16">292,201x</span>
      </div>
    </div>
    
    <p class="mt-6 text-sm text-gray-400">
      Note: Better odds = smaller jackpots. Pick 3 has 292,000x better odds but pays ~$500 vs millions.
    </p>
  </section>

  <!-- Key Takeaways -->
  <section class="rounded-2xl border border-slate-700 bg-gradient-to-r from-emerald-900/30 to-blue-900/30 p-6 shadow-xl">
    <h2 class="text-xl font-semibold text-emerald-300 mb-4">ğŸ“ Key Takeaways</h2>
    <div class="grid gap-4 md:grid-cols-2">
      <div class="flex items-start gap-3">
        <span class="text-2xl">ğŸ¯</span>
        <div>
          <h4 class="font-semibold text-gray-200">Best jackpot-to-odds ratio</h4>
          <p class="text-sm text-gray-400">State lotteries like CA SuperLotto and FL Lotto offer multi-million dollar jackpots with significantly better odds than Powerball.</p>
        </div>
      </div>
      <div class="flex items-start gap-3">
        <span class="text-2xl">ğŸ†</span>
        <div>
          <h4 class="font-semibold text-gray-200">Best overall odds</h4>
          <p class="text-sm text-gray-400">Pick 3 and Pick 4 games have dramatically better odds, though prizes are proportionally smaller.</p>
        </div>
      </div>
      <div class="flex items-start gap-3">
        <span class="text-2xl">ğŸ’°</span>
        <div>
          <h4 class="font-semibold text-gray-200">Best "any prize" odds</h4>
          <p class="text-sm text-gray-400">EuroMillions (1 in 13) and Cash 5 games give you the best chance of winning something, even if small.</p>
        </div>
      </div>
      <div class="flex items-start gap-3">
        <span class="text-2xl">âš ï¸</span>
        <div>
          <h4 class="font-semibold text-gray-200">Remember</h4>
          <p class="text-sm text-gray-400">All lotteries have negative expected value. Better odds doesn't make it a good investmentâ€”just less bad.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Educational Note -->
  <div class="rounded-xl border border-amber-700/50 bg-amber-900/20 p-4 text-sm text-amber-200/90">
    <strong>ğŸ“š Learn More:</strong> Understanding odds is just the beginning. 
    <a href="/lottery-math" class="underline hover:text-amber-100">Learn the math behind these numbers â†’</a> or use our
    <a href="/tools/winning-chance-simulator" class="underline hover:text-amber-100">probability calculator â†’</a>
  </div>

  <!-- Cross-links -->
  <section class="rounded-2xl border border-slate-700 bg-slate-900/40 p-6">
    <h3 class="mb-4 text-xl font-semibold text-gray-200">Related Tools</h3>
    <div class="flex flex-wrap gap-3">
      <a href="/tools/winning-chance-simulator" class="rounded-full border border-emerald-600 px-4 py-2 text-sm text-emerald-400 hover:bg-emerald-600 hover:text-white transition-colors">
        Chance Simulator â†’
      </a>
      <a href="/tools/payout-calculator" class="rounded-full border border-blue-600 px-4 py-2 text-sm text-blue-400 hover:bg-blue-600 hover:text-white transition-colors">
        Payout Calculator â†’
      </a>
      <a href="/tools/hot-cold-numbers" class="rounded-full border border-purple-600 px-4 py-2 text-sm text-purple-400 hover:bg-purple-600 hover:text-white transition-colors">
        Hot & Cold Numbers â†’
      </a>
    </div>
  </section>

  <AffiliateGrid placement="tools" />
</InfoLayout>
