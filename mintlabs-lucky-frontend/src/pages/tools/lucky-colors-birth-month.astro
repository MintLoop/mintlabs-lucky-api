---
import InfoLayout from "../../components/InfoLayout.astro";
import birthstonesData from "../../data/birthstones.json";

const pageTitle = "Lucky Colors by Birth Month | Birthstone Color Meanings";
const description = "Discover your lucky colors based on your birth month. Learn the meaning, symbolism, and traits associated with each birthstone color.";
const keywords = "lucky colors, birth month colors, birthstone colors, color meanings, monthly colors";

const jsonLd = {
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Lucky Colors by Birth Month",
  "description": description,
  "applicationCategory": "Lifestyle Tool",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  }
};

const months = birthstonesData.months;
---

<InfoLayout
  title="ðŸŽ¨ Lucky Colors by Birth Month"
  subtitle="Discover your birthstone colors and meanings"
  pageTitle={pageTitle}
  description={description}
  keywords={keywords}
  jsonLd={jsonLd}
>
  <div slot="teaser" class="teaser-content">
    <p>
      Each birth month is associated with a birthstone that carries specific colors, meanings, and traits.
      <strong>Fun fact:</strong> Birthstone traditions date back to ancient civilizations who believed
      gems had protective and healing powers based on their colors and properties.
    </p>
  </div>

  <section class="tool-section">
    <div class="month-selector">
      <label for="monthSelect">Select your birth month:</label>
      <select id="monthSelect" class="month-dropdown">
        <option value="">Choose a month...</option>
        {months.map((m, i) => (
          <option value={i}>{m.month}</option>
        ))}
      </select>
    </div>

    <div id="colorDisplay" class="color-display" hidden>
      <div class="color-preview">
        <div id="colorSwatch" class="color-swatch"></div>
        <div class="color-info">
          <h3 id="stoneName" class="stone-name"></h3>
          <p id="monthName" class="month-name"></p>
        </div>
      </div>

      <div class="details-grid">
        <div class="detail-card">
          <span class="detail-label">Color</span>
          <span id="colorHex" class="detail-value"></span>
        </div>
        <div class="detail-card">
          <span class="detail-label">Element</span>
          <span id="element" class="detail-value"></span>
        </div>
        <div class="detail-card">
          <span class="detail-label">Numerology</span>
          <span id="numerology" class="detail-value"></span>
        </div>
        <div class="detail-card">
          <span class="detail-label">Chakra</span>
          <span id="chakra" class="detail-value"></span>
        </div>
      </div>

      <div class="symbolism-section">
        <h4>Symbolism & Meaning</h4>
        <p id="symbolism" class="symbolism-text"></p>
        <p id="lore" class="lore-text"></p>
      </div>

      <div class="traits-section">
        <h4>Associated Traits</h4>
        <div id="traits" class="traits-grid"></div>
      </div>

      <div class="alternatives-section">
        <h4>Alternative Stones</h4>
        <div id="alternatives" class="alternatives-list"></div>
      </div>
    </div>

    <div class="all-months-grid">
      <h3>All Birth Month Colors</h3>
      <div class="months-grid">
        {months.map((month, index) => (
          <button
            class="month-card"
            data-month={index}
            style={`border-color: ${month.color_hex}`}
          >
            <div class="month-card-swatch" style={`background: ${month.color_hex}`}></div>
            <span class="month-card-name">{month.month}</span>
            <span class="month-card-stone">{month.name_primary}</span>
          </button>
        ))}
      </div>
    </div>
  </section>

  <section class="info-section">
    <h3>About Birthstone Colors</h3>
    <p>
      Birthstones are gemstones associated with each month of the year. The tradition has roots
      in ancient civilizations, including the Breastplate of Aaron described in Exodus, which
      contained twelve gemstones representing the twelve tribes of Israel.
    </p>

    <h4>Color Meanings in Different Cultures</h4>
    <p>
      Different cultures assign varying meanings to colors. In Western traditions, birthstone
      colors are often linked to personality traits, healing properties, and spiritual energies.
      Modern interpretations blend these ancient beliefs with contemporary color psychology.
    </p>

    <h4>Using Your Lucky Colors</h4>
    <ul>
      <li><strong>Fashion:</strong> Incorporate your birthstone color into clothing or accessories</li>
      <li><strong>Home Decor:</strong> Use these colors in your living space for positive energy</li>
      <li><strong>Mindfulness:</strong> Meditate on your color to connect with its symbolism</li>
      <li><strong>Gift Giving:</strong> Choose gifts in someone's birth month color for personal touch</li>
    </ul>

    <h4>Scientific Note</h4>
    <p>
      While birthstone traditions are culturally significant and personally meaningful, there is
      no scientific evidence that gemstone colors influence luck or personality. These associations
      are based on cultural traditions, folklore, and symbolic interpretations.
    </p>
  </section>
</InfoLayout>

<style>
  .month-selector {
    padding: 1.5rem;
    background: var(--surface-elevated);
    border: 1px solid var(--border-primary);
    border-radius: 0.5rem;
    box-shadow: var(--card-shadow);
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .month-selector label {
    font-weight: 600;
    font-size: 1.125rem;
  }

  .month-dropdown {
    padding: 0.75rem 1rem;
    background: var(--surface);
    border: 2px solid var(--border-primary);
    border-radius: 0.5rem;
    font-size: 1rem;
    cursor: pointer;
    transition: border-color 0.2s;
  }

  .month-dropdown:focus {
    outline: none;
    border-color: var(--border-primary-darker);
  }

  .color-display {
    margin-top: 1.5rem;
    padding: 1.5rem;
    background: var(--surface-elevated);
    border: 1px solid var(--border-primary);
    border-radius: 0.5rem;
    box-shadow: var(--card-shadow);
    animation: fadeIn 0.3s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .color-preview {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 2px solid var(--border-primary);
  }

  .color-swatch {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    border: 4px solid var(--border-primary-darker);
    box-shadow: var(--card-shadow), inset 0 0 20px rgba(0, 0, 0, 0.1);
    flex-shrink: 0;
  }

  .color-info {
    flex: 1;
  }

  .stone-name {
    margin: 0;
    font-size: 1.75rem;
    font-weight: 700;
  }

  .month-name {
    margin: 0.25rem 0 0;
    font-size: 1.125rem;
    opacity: 0.8;
  }

  .details-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  .detail-card {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    padding: 1rem;
    background: var(--surface);
    border: 1px solid var(--border-primary);
    border-radius: 0.5rem;
    text-align: center;
  }

  .detail-label {
    font-size: 0.875rem;
    opacity: 0.7;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .detail-value {
    font-size: 1.125rem;
    font-weight: 700;
  }

  .symbolism-section,
  .traits-section,
  .alternatives-section {
    margin-top: 1.5rem;
  }

  .symbolism-section h4,
  .traits-section h4,
  .alternatives-section h4 {
    margin: 0 0 0.75rem;
    font-size: 1.25rem;
  }

  .symbolism-text,
  .lore-text {
    margin: 0.5rem 0;
    line-height: 1.6;
  }

  .lore-text {
    font-style: italic;
    opacity: 0.9;
  }

  .traits-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .trait-chip {
    padding: 0.5rem 1rem;
    background: var(--surface);
    border: 2px solid var(--border-primary-darker);
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 600;
  }

  .alternatives-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .alternative-chip {
    padding: 0.5rem 1rem;
    background: var(--surface);
    border: 1px solid var(--border-primary);
    border-radius: 0.5rem;
    font-size: 0.875rem;
  }

  .all-months-grid {
    margin-top: 2rem;
    padding: 1.5rem;
    background: var(--surface);
    border: 1px solid var(--border-primary);
    border-radius: 0.5rem;
  }

  .all-months-grid h3 {
    margin-top: 0;
    margin-bottom: 1rem;
  }

  .months-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 1rem;
  }

  .month-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem;
    background: var(--surface-elevated);
    border: 3px solid;
    border-radius: 0.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .month-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--card-shadow);
  }

  .month-card-swatch {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: 2px solid var(--border-primary);
  }

  .month-card-name {
    font-weight: 700;
    font-size: 0.875rem;
  }

  .month-card-stone {
    font-size: 0.75rem;
    opacity: 0.7;
  }

  .info-section {
    margin-top: 2rem;
    padding: 1.5rem;
    background: var(--surface);
    border: 1px solid var(--border-primary);
    border-radius: 0.5rem;
  }

  .info-section h3 {
    margin-top: 0;
  }

  .info-section h4 {
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .info-section ul {
    margin-left: 1.5rem;
  }

  .info-section li {
    margin-bottom: 0.5rem;
  }

  @media (max-width: 640px) {
    .color-preview {
      flex-direction: column;
      text-align: center;
    }

    .color-swatch {
      width: 100px;
      height: 100px;
    }

    .details-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .months-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
</style>

<script define:vars={{ months }}>
  const monthSelect = document.getElementById('monthSelect');
  const colorDisplay = document.getElementById('colorDisplay');
  const colorSwatch = document.getElementById('colorSwatch');
  const stoneName = document.getElementById('stoneName');
  const monthName = document.getElementById('monthName');
  const colorHex = document.getElementById('colorHex');
  const element = document.getElementById('element');
  const numerology = document.getElementById('numerology');
  const chakra = document.getElementById('chakra');
  const symbolism = document.getElementById('symbolism');
  const lore = document.getElementById('lore');
  const traits = document.getElementById('traits');
  const alternatives = document.getElementById('alternatives');

  function displayMonth(index) {
    const month = months[index];
    
    colorSwatch.style.background = month.color_hex;
    stoneName.textContent = month.name_primary;
    monthName.textContent = month.month;
    colorHex.textContent = month.color_hex;
    element.textContent = month.element;
    numerology.textContent = month.numerology_number;
    chakra.textContent = month.chakra;
    symbolism.textContent = month.symbolism;
    lore.textContent = month.lore;
    
    traits.innerHTML = month.traits.map(trait => 
      `<span class="trait-chip">${trait}</span>`
    ).join('');
    
    alternatives.innerHTML = month.name_alternatives.map(alt => 
      `<span class="alternative-chip">${alt}</span>`
    ).join('');
    
    colorDisplay.hidden = false;
    colorDisplay.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }

  monthSelect.addEventListener('change', (e) => {
    const index = parseInt(e.target.value);
    if (!isNaN(index)) {
      displayMonth(index);
    } else {
      colorDisplay.hidden = true;
    }
  });

  // Month card clicks
  document.querySelectorAll('.month-card').forEach(card => {
    card.addEventListener('click', () => {
      const index = parseInt(card.dataset.month);
      monthSelect.value = index;
      displayMonth(index);
    });
  });
</script>
